const welcomeBtn=document.querySelector(".welcome__btn"),header=document.querySelector(".header"),cubeBtn=(welcomeBtn.addEventListener("click",function(e){e.preventDefault(),document.querySelector(".welcome").classList.remove("active"),document.querySelector(".bio").style.opacity="1",setTimeout(function(){header.classList.remove("load"),document.querySelector("body").classList.remove("load")},800)}),document.querySelector(".cube")),contentLeft=document.querySelector(".bio__left"),burger=(cubeBtn.addEventListener("click",function(){contentLeft.classList.add("active"),cubeBtn.classList.toggle("active")}),window.addEventListener("scroll",function(){1<window.scrollY?header.classList.add("active"):header.classList.remove("active")}),document.querySelector(".burger")),burgerContent=document.querySelector(".mobile"),headerLinks=(burger.addEventListener("click",function(){burger.classList.toggle("active"),burgerContent.classList.toggle("active"),document.querySelector("body").classList.toggle("overflow")}),document.querySelectorAll(".header__link")),mobileLinks=document.querySelectorAll(".mobile__link"),windowHeight=.5*window.innerHeight;function scrollTo(e){window.scroll({left:0,top:e.offsetTop-10,behavior:"smooth"})}window.addEventListener("scroll",function(){headerLinks.forEach(function(e){let t=e;var e=t.getAttribute("data-scroll"),e=document.querySelector(e),o=e.offsetHeight;window.scrollY>e.offsetTop-windowHeight&&window.scrollY<e.offsetTop+o&&(headerLinks.forEach(function(e){e.classList.remove("active")}),t.classList.add("active"))})}),headerLinks.forEach(function(e){let t=e;var o=t.getAttribute("data-scroll");let c=document.querySelector(o);e.addEventListener("click",function(e){e.preventDefault(),scrollTo(c)})}),mobileLinks.forEach(function(e){let t=e;var o=t.getAttribute("data-scroll");let c=document.querySelector(o);e.addEventListener("click",function(e){e.preventDefault(),scrollTo(c),burgerContent.classList.remove("active"),burger.classList.remove("active"),document.querySelector("body").classList.remove("overflow")})});const inpName=document.querySelector(".form__name input"),inpEmail=document.querySelector(".form__email input"),inpMess=document.querySelector(".form__mess textarea"),form=document.querySelector("form"),regEmail=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;let count=0;async function sendMail(){var e=new FormData(form);await fetch("mail.php",{method:"POST",body:e})}function isEmail(e,t){return e.test(t)}document.querySelector(".form__btn").addEventListener("click",function(e){e.preventDefault(),inpName.value.length<2?(count--,inpName.classList.add("active")):(count++,inpName.classList.remove("active")),!isEmail(regEmail,inpEmail.value)||inpEmail.value.length<=3?(count--,inpEmail.classList.add("active")):(count++,inpEmail.classList.remove("active")),inpMess.value.length<4?(count--,document.querySelector(".form__error").classList.add("active")):(count++,document.querySelector(".form__error").classList.remove("active")),3===(count=count<3?0:count)&&(sendMail(),count=0,document.querySelector(".popup").classList.add("active"),form.reset())}),document.querySelector(".popup__cross").addEventListener("click",function(){document.querySelector(".popup").classList.remove("active")}),document.querySelector(".popup__exit").addEventListener("click",function(){document.querySelector(".popup").classList.remove("active")});
var isScrolling=!1;function throttleScroll(i){0==isScrolling&&window.requestAnimationFrame(function(){scrolling(i),isScrolling=!1}),isScrolling=!0}window.addEventListener("scroll",throttleScroll,!1),throttleScroll();let fadeArr=document.querySelectorAll(".fade");function scrolling(i){setTimeout(()=>{for(var i=0;i<fadeArr.length;i++){var t=fadeArr[i];isPartiallyVisible(t)&&t.classList.add("fade-on")}},300)}function isPartiallyVisible(i){var i=i.getBoundingClientRect(),t=i.top,l=i.bottom,i=i.height;return 0<=t+i&&i+window.innerHeight>=l}function isFullyVisible(i){var i=i.getBoundingClientRect(),t=i.top,i=i.bottom;return 0<=t&&i<=window.innerHeight+150}